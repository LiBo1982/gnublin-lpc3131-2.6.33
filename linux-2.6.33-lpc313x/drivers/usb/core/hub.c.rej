--- drivers/usb/core/hub.c
+++ drivers/usb/core/hub.c
@@ -1232,7 +1232,7 @@
 
 #ifdef	CONFIG_USB_OTG_BLACKLIST_HUB
 	if (hdev->parent) {
-		dev_warn(&intf->dev, "ignoring external hub\n");
+		dev_warn(&intf->dev, "External hub not Supported\n");
 		return -ENODEV;
 	}
 #endif
@@ -1653,7 +1653,7 @@
 static inline void announce_device(struct usb_device *udev) { }
 #endif
 
-#ifdef	CONFIG_USB_OTG
+#ifdef	CONFIG_USB_OTG_WHITELIST
 #include "otg_whitelist.h"
 #endif
 
@@ -1727,8 +1727,16 @@
 		err = -ENOTSUPP;
 		goto fail;
 	}
-fail:
+#elif defined(CONFIG_USB_OTG_WHITELIST)
+	if (!is_targeted(udev)) {
+
+		dev_warn(&udev->dev, "This device is not Supported\n");
+		err = -ENOTSUPP;
+		goto fail;
+	}
+
 #endif
+fail:
 	return err;
 }
 
